<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Java Notebook" />
<meta property="og:locale" content="en" />
<meta name="description" content="用于记载学习cs61b过程中的笔记" />
<meta property="og:description" content="用于记载学习cs61b过程中的笔记" />
<link rel="canonical" href="http://localhost:4000/posts/cs61b-Notebook/" />
<meta property="og:url" content="http://localhost:4000/posts/cs61b-Notebook/" />
<meta property="og:site_name" content="M o o n." />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-11-14T20:40:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Java Notebook" />
<meta name="twitter:site" content="@moon353844" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-11-17T13:50:02+08:00","datePublished":"2024-11-14T20:40:00+08:00","description":"用于记载学习cs61b过程中的笔记","headline":"Java Notebook","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/cs61b-Notebook/"},"url":"http://localhost:4000/posts/cs61b-Notebook/"}</script>
<!-- End Jekyll SEO tag -->


  <title>Java Notebook | M o o n.
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="M o o n.">
<meta name="application-name" content="M o o n.">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.29.0/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      let self = this;this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          self.clearMode();
        }
        self.notify();
      });

      if (!this.hasMode) {
        return;
      }

      if (this.isDarkMode) {
        this.setDark();
      } else {
        this.setLight();
      }
    }

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isPreferDark() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }get modeStatus() {
      if (this.hasMode) {
        return this.mode;
      } else {
        return this.isPreferDark ? ModeToggle.DARK_MODE : ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        this.clearMode();
      } else {
        if (this.isPreferDark) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    }
  }

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->


  
        <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    TeX: {
        equationNumbers: {
            autoNumber: "AMS"
        }
    },
    tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
        inlineMath: [['$','$'],
        displayMath: [ ['$$','$$'] ],
        processEscapes: true,
    }
});
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
    
</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/avater.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <h1 class="site-title">
      <a href="/">M o o n.</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">You Forever</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/Azathoth-NyarlathoTep"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/moon353844"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['moon353844','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>Java Notebook</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->





<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>Java Notebook</h1>
    
      <p class="post-desc fw-light mb-4">用于记载学习cs61b过程中的笔记</p>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1731588000"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Nov 14, 2024
</time>

      </span>

      <!-- lastmod date -->
      
        <span>
          Updated
          <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1731822602"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Nov 17, 2024
</time>

        </span>
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://twitter.com/username">Yongze Li</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="4829 words"
>
  <em>26 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  <div class="content">
    <h2 id="git命令一览"><span class="me-2">git命令一览</span><a href="#git命令一览" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="用于提交到github"><span class="me-2">用于提交到github</span><a href="#用于提交到github" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="n">git</span> <span class="n">init</span> <span class="c1">//用于初始化，会产生git文件</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">skeleton</span> <span class="o">&lt;</span><span class="n">你的仓库地址</span><span class="o">&gt;</span><span class="c1">//远程连接github仓库</span>
<span class="n">git</span> <span class="n">add</span> <span class="o">--</span><span class="n">all</span><span class="c1">//把该文件夹的所有东西移到暂存区，也叫staging(暂存)这个文件</span>
<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span><span class="s">" "</span><span class="c1">//把暂存区的文件移到本地版本库，等待提交</span>
<span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">master</span><span class="c1">//上传到GitHub(这一步有时候会连接不上，多试几次就行)</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="从远程仓库拉取代码以cs61b为例"><span class="me-2">从远程仓库拉取代码(以cs61b为例)</span><a href="#从远程仓库拉取代码以cs61b为例" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>我们会首先有<code class="language-plaintext highlighter-rouge">git clone &lt;URL&gt;</code>来克隆github上的代码，在完成这一步的同时，我们应该同时完成了地址的绑定，即用<code class="language-plaintext highlighter-rouge">git remote -v</code>可以显示出这一个仓库的地址，且显示为<code class="language-plaintext highlighter-rouge">origin</code>，同时可以接受<code class="language-plaintext highlighter-rouge">fetch</code>和<code class="language-plaintext highlighter-rouge">push</code></p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">skeleton</span> <span class="nl">https:</span><span class="c1">//github.com/Berkeley-CS61B/skeleton-sp21.git // 这一步关联了一个远程仓库并命名为skeleton</span>
<span class="n">git</span> <span class="n">pull</span> <span class="n">skeleton</span> <span class="n">master</span><span class="c1">//拉取代码，这一步有时候也会显示unable to connect</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="版本管理"><span class="me-2">版本管理</span><a href="#版本管理" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><code class="language-plaintext highlighter-rouge">git</code>本身就是一个版本控制系统，所以有必要学习如何管理版本</p>

<blockquote>
  <p>注意切换版本前要保证工作目录干净</p>
</blockquote>

<p>我们会先用<code class="language-plaintext highlighter-rouge">git init</code>来初始化这个文件夹，经过初始化的我们一般称之为<code class="language-plaintext highlighter-rouge">repository</code>，这告诉git我们要对这个文件夹进行版本控制</p>

<p>我们可以通过<code class="language-plaintext highlighter-rouge">git log</code>l获得git日志，每一次commit都会被记录在log中，且每一版都会跟着一个序号用于版本控制
用<code class="language-plaintext highlighter-rouge">git checkout b6e49829706f52946606a786bd7fcd6eff23860c</code>来返回到之前的某个版本
若是要重回最新的主版本，则需要<code class="language-plaintext highlighter-rouge">git checkout master</code>来返回</p>

<h3 id="其他"><span class="me-2">其他</span><a href="#其他" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="n">git</span> <span class="n">status</span><span class="c1">//查看当前本地状态，会显示当前Git本地仓库和暂存区与远程仓库之间的差异情况</span>
<span class="n">git</span> <span class="n">remote</span> <span class="o">-</span><span class="n">v</span><span class="c1">//显示连接了什么仓库，怎么连接的</span>
<span class="cm">/*如cs61b的这次仓库
origin     https://github.com/Azathoth-NyarlathoTep/cs61b-note.git (fetch)
origin     https://github.com/Azathoth-NyarlathoTep/cs61b-note.git (push)
skeleton   https://github.com/Berkeley-CS61B/skeleton-sp21.git (fetch)
skeleton   https://github.com/Berkeley-CS61B/skeleton-sp21.git (push)
其中origin是远程仓库的默认名称，skeleton是用命令命名的名称
fetch指可以从远程仓库获取更新到本地
push指可以把本地的改动推送到远程仓库
*/</span>
</pre></td></tr></tbody></table></code></div></div>

<h2 id="p4"><span class="me-2">P4</span><a href="#p4" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="42-extendscastinghigher-order-functions"><span class="me-2">4.2 Extends,Casting,Higher Order Functions</span><a href="#42-extendscastinghigher-order-functions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>java中用extends来直接继承另一个类作为父类的所有成员（即所有的变量以及函数等，除了构造函数）</p>

<p>当在子类中调用构造函数后，会默认先执行父类的构造函数，这是合理的，毕竟父类中的一些初始化设置不能忽略，即构造函数</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="nf">VengefulSLList</span><span class="o">(){</span>
    <span class="n">deletedItems</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SLList</span><span class="o">&lt;</span><span class="nc">Item</span><span class="o">&gt;();</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>和下述调用父类构造函数的构造函数本质上是一样的</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="nf">VengefulSLList</span><span class="o">(){</span>
    <span class="kd">super</span><span class="o">();</span>
    <span class="n">deletedItems</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SLList</span><span class="o">&lt;</span><span class="nc">Item</span><span class="o">&gt;();</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="43-subtype-polymorphism-vs-hofs"><span class="me-2">4.3 Subtype Polymorphism vs. HoFs</span><a href="#43-subtype-polymorphism-vs-hofs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>下面先来看一个有关静态类型和动态类型分辨的程序</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="nc">Object</span> <span class="n">o2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ShowDog</span><span class="o">();</span><span class="c1">//这里o2静态类型是Object而其动态类型是ShowDog</span>

<span class="nc">ShowDog</span> <span class="n">sdx</span> <span class="o">=</span> <span class="o">((</span><span class="nc">ShowDog</span><span class="o">)</span><span class="n">o2</span><span class="o">);</span><span class="c1">//静态类型同为ShowDog，故编译器通过，这里(ShowDog)就是强制转换，它告诉编译器将o2当作ShowDog对待(意思就是强制转换只在这一句生效，不会发生持久性的影响)</span>
<span class="n">sdx</span><span class="o">.</span><span class="na">bark</span><span class="o">();</span><span class="c1">//看sdx的静态类型，判断其有无bark函数，判断有之后再以动态判断bark出去</span>

<span class="nc">Dog</span> <span class="n">dx</span> <span class="o">=</span> <span class="o">((</span><span class="nc">Dog</span><span class="o">)</span><span class="n">o2</span><span class="o">);</span><span class="c1">//强制转换通过静态类型编译</span>
<span class="n">dx</span><span class="o">.</span><span class="na">bark</span><span class="o">();</span>

<span class="o">((</span><span class="nc">Dog</span><span class="o">)</span><span class="n">o2</span><span class="o">).</span><span class="na">bark</span><span class="o">();</span><span class="c1">//先看Dog类型有无bark方法，看其有之后再用o2动态类型的bark方法</span>

<span class="nc">Object</span> <span class="n">o3</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Dog</span><span class="o">)</span><span class="n">o2</span><span class="o">;</span>
<span class="n">o3</span><span class="o">.</span><span class="na">bark</span><span class="o">();</span><span class="c1">//在这里编译器会报错，因为静态Object类并没有bark方法，因而不能通过编译</span>
</pre></td></tr></tbody></table></code></div></div>

<p>那么假设我们要完成一个max方法，它将返回一个数组中所有元素的最大值，但是如果参数为<code class="language-plaintext highlighter-rouge">Object</code>的话则无法直接进行比较，所以我们采用<code class="language-plaintext highlighter-rouge">Java</code>中自带的<code class="language-plaintext highlighter-rouge">Comparable</code>接口来完成这个操作</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>@Override
public int compareTo(Dog uddaDog) {
    return this.size - uddaDog.size;//这是在比较中常用的技巧，通过这样就不必有下面的冗长的比较语句
}
</pre></td></tr></tbody></table></code></div></div>

<p>上述是在Dog类中继承了<code class="language-plaintext highlighter-rouge">Comparable</code>这个接口，重写了比较函数</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>public static Comparable max(Comparable[] items){
        int maxDog = 0;
        for(int i=0;i&lt;items.length;i++){
            int cmp = items[i].compareTo(items[maxDog]);
            if(cmp&gt;0) maxDog = i;
        }
        return items[maxDog];
    }
</pre></td></tr></tbody></table></code></div></div>

<p>然后再在返回最大值的方法中进行调用，而<code class="language-plaintext highlighter-rouge">compareTo</code>方法是<code class="language-plaintext highlighter-rouge">Comparable</code>方法中有的，所以算是普适的，只要是继承这个接口的类都能作为参数传入这个方法</p>

<h2 id="p6"><span class="me-2">P6</span><a href="#p6" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="61-listssetsarrayset"><span class="me-2">6.1 Lists,Sets,ArraySet</span><a href="#61-listssetsarrayset" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>关于<code class="language-plaintext highlighter-rouge">Lists</code>和<code class="language-plaintext highlighter-rouge">sets</code>的用法较为简单，本课程中让我们自己实现一个<code class="language-plaintext highlighter-rouge">ArraySet</code>，包含<code class="language-plaintext highlighter-rouge">add()</code>,<code class="language-plaintext highlighter-rouge">contains()</code>和<code class="language-plaintext highlighter-rouge">size()</code>，这比较容易，但是当我们<code class="language-plaintext highlighter-rouge">add</code>一个<code class="language-plaintext highlighter-rouge">null</code>进去的话，可能会在后续<code class="language-plaintext highlighter-rouge">contains</code>判断的时候造成指向空指针的问题，比如</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>public boolean contains(T x){
        for(int i = 0; i &lt; size; i++){
            if(items[i].equals(x)){     //这将直接查看二者在语义上是否相等而不会出现检查字符串而错误地去比较地址的错误
                return true;
            }
        }
        return false;
    }
</pre></td></tr></tbody></table></code></div></div>

<p>这个时候进行到<code class="language-plaintext highlighter-rouge">items[i].equals(x)</code>，如果i指向的那个地方是个null,则它没有equal方法，会出现空指针错误，因而我们引出解决方案</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="no">T</span> <span class="n">x</span><span class="o">){</span>
    <span class="k">if</span><span class="o">(</span><span class="n">x</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">(</span><span class="s">"can't add null"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>这是一种解决方法，这样会直接在存入<code class="language-plaintext highlighter-rouge">null</code>时隔断并报错，这样可以让用户知道为什么错误
或者</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>public boolean contains(T x){
        for(int i = 0; i &lt; size; i++){
            if(items[i] == null){//考虑到null的情况
                return x == null;
            }
            if(items[i].equals(x)){     //这将直接查看二者在语义上是否相等而不会出现检查字符串而错误地去比较地址的错误
                return true;
            }
        }
        return false;
    }
</pre></td></tr></tbody></table></code></div></div>

<p>这样直接判断是否出现空指针，直接将其作为一种情况考虑，也是一种解决方法</p>

<h3 id="63-iteration"><span class="me-2">6.3 Iteration</span><a href="#63-iteration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>我们能看到有一种迭代的方法</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>Set&lt;String&gt; s = new HashSet&lt;&gt;();
...
for (String city : s) {
    ...
}
</pre></td></tr></tbody></table></code></div></div>

<p>这是一种迭代遍历set的一种方法，也叫<code class="language-plaintext highlighter-rouge">for-each</code>循环，这利用了迭代器，而迭代器本质上也是一个类对象，我们首先想一下一个对象如何实现这些</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre>public Iterator&lt;T&gt; iterator(){
        return new ArraySetIterator();
    }

    private class ArraySetIterator implements Iterator&lt;T&gt;{//Java是强类型语言，而Iterator本质上是一个接口，若不继承会在上面iterator方法的时候因为静态类型不符合报错
        private int wizPos;
        public ArraySetIterator(){
            wizPos = 0;
        }

        @Override
        public boolean hasNext(){
            return wizPos &lt; size;
        }
        @Override
        public T next(){
            T returnItem = items[wizPos];
            wizPos++;
            return returnItem;
        }
    }
</pre></td></tr></tbody></table></code></div></div>

<p>java中就有Iterator这样的接口，其中<code class="language-plaintext highlighter-rouge">hasNext</code>和<code class="language-plaintext highlighter-rouge">next</code>方法是必须实现的
这样我们就有了迭代器,但是我们仍然不能用<code class="language-plaintext highlighter-rouge">for-each</code>循环来遍历,所以我们要让整个<code class="language-plaintext highlighter-rouge">ArraySet</code>实现<code class="language-plaintext highlighter-rouge">Iterable</code>接口,即<code class="language-plaintext highlighter-rouge">public class ArraySet&lt;T&gt; implements Iterable&lt;T&gt;</code>,这个接口要实现的方法是<code class="language-plaintext highlighter-rouge">Iterator&lt;T&gt; iterator()</code></p>

<h3 id="64-object-methods"><span class="me-2">6.4 Object methods</span><a href="#64-object-methods" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<h4 id="tostring"><span class="me-2">toString()</span><a href="#tostring" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>在Java中，我们知道所有类都是继承自Object的，而Object中有自己的方法，它的<code class="language-plaintext highlighter-rouge">toString</code>方法是输出类似于<code class="language-plaintext highlighter-rouge">test.ArraySet@506e1b77</code>这样的十六进制地址，而如果是别的<code class="language-plaintext highlighter-rouge">set</code>或是<code class="language-plaintext highlighter-rouge">arrays</code>这样的结构实际上已经重写过<code class="language-plaintext highlighter-rouge">toString</code>方法，所以使用<code class="language-plaintext highlighter-rouge">System.out.println(javaset);</code>会输出<code class="language-plaintext highlighter-rouge">[5, 6, 7, 8]</code>这样的格式，所以当我们写自己的<code class="language-plaintext highlighter-rouge">arraySet</code>的时候也要重写toString方法</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">(){</span>
        <span class="nc">String</span> <span class="n">returnString</span> <span class="o">=</span> <span class="s">"{"</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="no">T</span> <span class="nl">item:</span><span class="k">this</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="n">returnString</span> <span class="o">+=</span> <span class="n">item</span> <span class="o">+</span> <span class="s">","</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">returnString</span> <span class="o">+=</span> <span class="s">"}"</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">returnString</span><span class="o">;</span>
    <span class="o">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>这样就可以输出形如<code class="language-plaintext highlighter-rouge">{1,2,3,}</code>这样的格式，但这有一个问题，在Java中，为了保证某种安全性，我们的String类型变量在设置之后是不可变的，因而每次加一个字符串进去都会复制一遍自己，这个复杂度是O($n^2$)的，所以我们选择线性的StringBuilder，这是可变的</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>@Override
    public String toString() {
        StringBuilder returnSB = new StringBuilder("{");
        for (int i = 0; i &lt; size - 1; i += 1) {
            returnSB.append(items[i].toString());
            returnSB.append(", ");
        }
        returnSB.append(items[size - 1]);
        returnSB.append("}");
        return returnSB.toString();
    }
</pre></td></tr></tbody></table></code></div></div>

<p>如上所示利用<code class="language-plaintext highlighter-rouge">StringBuilder</code>进行中间的加法操作</p>

<h4 id="equals"><span class="me-2">equals()</span><a href="#equals" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p><code class="language-plaintext highlighter-rouge">equals()</code>和<code class="language-plaintext highlighter-rouge">==</code>是不一样的，<code class="language-plaintext highlighter-rouge">==</code>检查的是二者在内存中存储的东西是否相同，这对于基本类型来说是检查值是否相等，而对于对象来说，检查的是地址是否相同，举例来看的话</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>Doge fido = new Doge(5, "Fido");
Doge fidoTwin = new Doge(5, "Fido");
</pre></td></tr></tbody></table></code></div></div>

<p>这创建了两个对象，他们里面的所有属性都是相同的，但若是用<code class="language-plaintext highlighter-rouge">==</code>检查的话，会返回<code class="language-plaintext highlighter-rouge">false</code>,这是因为二者存储的内存地址不一样
而对于默认类<code class="language-plaintext highlighter-rouge">Object</code>来说，<code class="language-plaintext highlighter-rouge">equals()</code>和<code class="language-plaintext highlighter-rouge">==</code>并无二致，都是判断的内存地址是否相同，但是很多类如<code class="language-plaintext highlighter-rouge">String</code>都重写了这个方法，而我们也可以重写它在我们自己的类中</p>

<h2 id="p8"><span class="me-2">P8</span><a href="#p8" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="82-asymptotics-i-an-introduction-to-asymptotic-analysis"><span class="me-2">8.2 Asymptotics I: An Introduction to Asymptotic Analysis</span><a href="#82-asymptotics-i-an-introduction-to-asymptotic-analysis" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>这一小节是对复杂度的一种分析，非常详细，首先引出题目如下</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>Determine if a sorted array contains any duplicates.
//即确定排序数组是否包含任何可重复项
</pre></td></tr></tbody></table></code></div></div>

<p>这里有两种方法，一种是暴力的遍历，每一对间判断，另一种是利用排序特性依次判断，具体实现如下，但如何分析出第二种确实更优呢？</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre>//Silly Duplicate: compare everything
public static boolean dup1(int[] A) {  
  for (int i = 0; i &lt; A.length; i += 1) {
    for (int j = i + 1; j &lt; A.length; j += 1) {
      if (A[i] == A[j]) {
         return true;
      }
    }
  }
  return false;
}

//Better Duplicate: compare only neighbors
public static boolean dup2(int[] A) {
  for (int i = 0; i &lt; A.length - 1; i += 1) {
    if (A[i] == A[i + 1]) { 
      return true; 
    }
  }
  return false;
}
</pre></td></tr></tbody></table></code></div></div>

<p>下面是两种算法的时间复杂度分析
<code class="language-plaintext highlighter-rouge">dup1</code></p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th><strong>operation</strong></th>
      <th><strong>symbolic count</strong></th>
      <th><strong>count, N=10000</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>i = 0</strong></td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td><strong>j = i + 1</strong></td>
      <td>1 to N</td>
      <td>1 to 10000</td>
    </tr>
    <tr>
      <td><strong>less than (&lt;)</strong></td>
      <td>2 to ($N^2+3N+2)/2$</td>
      <td>2 to 50,015,001</td>
    </tr>
    <tr>
      <td><strong>increment (+=1)</strong></td>
      <td>0 to $(N^2 +N)/2$</td>
      <td>0 to 50,005,000</td>
    </tr>
    <tr>
      <td><strong>equals (==)</strong></td>
      <td>1 to $(N^2-N)/2$</td>
      <td>1 to 49,995,000</td>
    </tr>
    <tr>
      <td><strong>array accesses</strong></td>
      <td>2 to $N^2-N$</td>
      <td>2 to 99,990,000</td>
    </tr>
  </tbody>
</table></div>

<p><code class="language-plaintext highlighter-rouge">dup2</code></p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th><strong>operation</strong></th>
      <th><strong>symbolic count</strong></th>
      <th><strong>count, N=10000</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>i = 0</strong></td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td><strong>less than (&lt;)</strong></td>
      <td>0 to N</td>
      <td>0 to 10000</td>
    </tr>
    <tr>
      <td><strong>increment (+=1)</strong></td>
      <td>0 to N - 1</td>
      <td>0 to 9999</td>
    </tr>
    <tr>
      <td><strong>equals (==)</strong></td>
      <td>1 to N - 1</td>
      <td>1 to 9999</td>
    </tr>
    <tr>
      <td><strong>array accesses</strong></td>
      <td>2 to 2N - 2</td>
      <td>2 to 19998</td>
    </tr>
  </tbody>
</table></div>

<p>我们会发现方法一是二次方的增长，所以几何直觉上我们知道法二的线性增长更好
现在用四个简化来正式解释其含义</p>

<h3 id="1只考虑最坏的情况"><span class="me-2">1.只考虑最坏的情况</span><a href="#1只考虑最坏的情况" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>| <strong>operation 操作</strong>              | <strong>count 计数</strong> |
| ——————————- | ————– |
| <strong>less than (&lt;) 小于 （&lt;）</strong>    | $100N^2 + 3N$  |
| <strong>greater than (&gt;) 大于 （&gt;）</strong> | $N^3 + 1$      |
| <strong>and (&amp;&amp;) 和 （&amp;&amp;）</strong>          | 5000           |
那么预计的增长顺序是什么？</p>

<blockquote>
  <p>​<strong>Answer</strong>​: It’s cubic($N^3$)</p>
</blockquote>

<p>因为当N接近无穷大的时候$N^3$是占主导地位的，其他的远小于它，所以忽略</p>

<h4 id="2选择代表性操作"><span class="me-2">2.选择代表性操作</span><a href="#2选择代表性操作" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<h4 id="3忽略低阶项"><span class="me-2">3.忽略低阶项</span><a href="#3忽略低阶项" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<h4 id="4忽略乘法常数"><span class="me-2">4.忽略乘法常数</span><a href="#4忽略乘法常数" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>现在有了这些简化标准，我们可以重新分析dup1：
首先我们会先选择一个代表性的操作即我们的成本模型，而在这一个算法中我们选取的是<code class="language-plaintext highlighter-rouge">A[i] == A[j]</code>这个算式
经过计算这个算式最坏情况会执行<code class="language-plaintext highlighter-rouge">N(N-1)/2</code>次，而拆开来再舍弃最大的增长率之外的所有项和乘法常数之后，得出复杂度为$N^2$</p>

<p>对于这种增长的阶数，我们用<code class="language-plaintext highlighter-rouge">Order</code>即大$O$来表示，实例如下：</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>function R(N)</th>
      <th>Order of growth</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>$N^3 + 3N^4$</td>
      <td>$Θ(N^4)$</td>
    </tr>
    <tr>
      <td>$N^3 + 1/N$</td>
      <td>$Θ(N^3)$</td>
    </tr>
    <tr>
      <td>$5 + 1/N$</td>
      <td>$Θ(1)$</td>
    </tr>
    <tr>
      <td>$Ne^N + N$</td>
      <td>$Θ(Ne^N)$</td>
    </tr>
    <tr>
      <td>$40sin(N) + 4N^2$</td>
      <td>$O(N^2)$</td>
    </tr>
  </tbody>
</table></div>

<blockquote>
  <p>注意当我们用$O$来表示一个算法的话，这个指的是一个上限，并不是所谓的最坏情况，即$O(N)$也属于$O(n^2)$，$O$只是一个范围</p>
</blockquote>

<h2 id="p9-disjoint-sets-并查集"><span class="me-2">P9 Disjoint Sets 并查集</span><a href="#p9-disjoint-sets-并查集" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>由于本章内容不是很多，因此直接总的来写了
我们发现，并查集并不关心内部之间是怎么具体连接的，因此我们只要考虑不同点之间是否存在于同一个集合即可</p>

<h2 id="p11-balanced-trees"><span class="me-2">P11 Balanced Trees</span><a href="#p11-balanced-trees" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>当数据是随机插入的时候，可以证明最终形成的数是浓密的，即用二叉搜索树可以实现$logn$的复杂度搜索，且其深度和高度都是$Θ(logn)$的，但实际情况的数据并不往往都是随机插入的，比如如果是实时插入的话我们将被迫按照数据到达时间的顺序来存储，这就引出平衡树</p>

<p>如果想看b-tree具体的插入过程详见<a href="https://tinyurl.com/balanceYD">https://tinyurl.com/balanceYD</a></p>

<h3 id="b-trees"><span class="me-2">B-Trees</span><a href="#b-trees" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>BST之所以会有问题是因为我们总是在叶子节点添加新的节点，因而会出现高度不断增加的情况，如果我们只添加到当前节点就可以维持高度不变
但是如果只一味添加在某个节点，那么在查询该节点的时候还是$N$的，所以我们想到在单个节点中的元素数量设置限制，比如如果限制为4的话，就要在当前节点达到4个元素的时候把中间偏左的节点向上凸起，这个相较于BST而言有凸起的这个操作，就能保证动态的维护整个数据结构
注意B-tree中添加值的时候都是遍历到叶子节点再添加，判断完是否凸起之后再进行更新
B-tree始终能保证以下两点不变</p>

<h4 id="1所有叶子节点到根节点的距离都是相同的"><span class="me-2">1.所有叶子节点到根节点的距离都是相同的</span><a href="#1所有叶子节点到根节点的距离都是相同的" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<h4 id="2所有有k个元素的非叶子节点都有k1个子节点"><span class="me-2">2.所有有k个元素的非叶子节点都有k+1个子节点</span><a href="#2所有有k个元素的非叶子节点都有k1个子节点" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>这些不变点使得整个B-tree一直是茂密的，因而在搜索时能保证$logN$的复杂度
虽然我们同时给每个节点设置了一个限制元素上限L，这个L通常称之为阶，但是如果加进去也是$LlogN$的，这只是加了个乘法常数的复杂度，因而算不得什么</p>

<blockquote>
  <p>总结：B-tree可以帮你有效处理任何插入顺序，因而在数据库的应用中极为广泛</p>
</blockquote>

<h3 id="llrb"><span class="me-2">LLRB</span><a href="#llrb" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>但因为B-Tree的实现非常困难，因而引出红黑树，而在本节中讨论的是左倾红黑树(LLRB)，抽象代码如下</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre>private Node put(Node h, Key key, Value val) {
    if (h == null) { return new Node(key, val, RED); }
    int cmp = key.compareTo(h.key);
    if (cmp &lt; 0)      { h.left  = put(h.left,  key, val); }
    else if (cmp &gt; 0) { h.right = put(h.right, key, val); }
    else              { h.val   = val;                    }

    if (isRed(h.right) &amp;&amp; !isRed(h.left))      { h = rotateLeft(h);  }
    if (isRed(h.left)  &amp;&amp;  isRed(h.left.left)) { h = rotateRight(h); }
    if (isRed(h.left)  &amp;&amp;  isRed(h.right))     { flipColors(h);      } 

    return h;
}
</pre></td></tr></tbody></table></code></div></div>
<h2 id="p12-hashing"><span class="me-2">P12 Hashing</span><a href="#p12-hashing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<blockquote>
  <p>在之前我们已经学会了B-树等结构，他们能很好的保证平衡，使得搜索速度最多只有$Θ(logN)$，但是这要求对象具有可比性，且我们认为这个复杂度还可以进一步优化，于是我们引入了<code class="language-plaintext highlighter-rouge">Hashing</code></p>
</blockquote>

<p>首先我们由桶的思想会开一个<code class="language-plaintext highlighter-rouge">20亿</code>的数boolean组，这样在每次查询的时候都可以<code class="language-plaintext highlighter-rouge">O(1)</code>查询，但是这有一个问题就是
1.会有很大的空间开销
2.如何存字符串类型的对象呢？</p>

<h3 id="对于全小写英文字符串"><span class="me-2">对于全小写英文字符串</span><a href="#对于全小写英文字符串" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>我们可以直接类比十进制一样设置26进制表示字母，如a表示为0等</p>

\[cat = c·26^2 + a·26^1 + t·26^0 = 2074\]

\[\frac{1}{\Bigl(\sqrt{\phi \sqrt{5}}-\phi\Bigr) e^{\frac25 \pi}} \equiv 1+\frac{e^{-2\pi}} {1+\frac{e^{-4\pi}} {1+\frac{e^{-6\pi}} {1+\frac{e^{-8\pi}} {1+\cdots} } } }\]

<p>这样可以完全避免碰撞问题，但是我们现在仍有空间开销问题，甚至在表示上还是无法涵盖别的不可比较元素如表情符号，汉字，标点等杂糅在一起的对象，但是在这个比较过程中我们确实没有进行比较操作，因此这个思路可以延续</p>

<h3 id="不限于英文字母"><span class="me-2">不限于英文字母</span><a href="#不限于英文字母" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>如果想超脱英文字母的限制，可以引入<code class="language-plaintext highlighter-rouge">ACSCII</code>码，范围增加到126，如果加入中文，更是可以把最大表示范围扩大到40959，但是这开销太大了，更是会有溢出问题</p>

<blockquote>
  <p>什么是溢出问题？
Java 中整数的最大可能值为 2,147,483,647，最小值为 -2,147,483,648，如果尝试取最大值并添加 1，则得到最小值</p>
</blockquote>

<p>所以在考虑溢出后，很多很大的对象转化为这些码之后会有相同的表示形式，我们称之为碰撞，溢出问题会引起很多碰撞
而在上面这些转换的过程中，把对象表示为整数后这些整数被称之为<code class="language-plaintext highlighter-rouge">Hashing code</code>，也即哈希码，比如“melt banana” 的哈希码是 839099497，而java中<code class="language-plaintext highlighter-rouge">Object</code>类有<code class="language-plaintext highlighter-rouge">.hashcode()</code>方法，所以每个类都可以重写这个方法</p>

<h3 id="处理碰撞"><span class="me-2">处理碰撞</span><a href="#处理碰撞" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>只需要把每一个哈希码对应的改为一个<code class="language-plaintext highlighter-rouge">List</code>类的结构，依次遍历即可，为了节省空间，我们把哈希码取模运算然后缩小为一定个数的桶，这样很好的解决的空间问题，虽然会增多碰撞。
假设我们有M个桶和N个对象，那么定义负载因子为<code class="language-plaintext highlighter-rouge">N/M</code>,在定义了这个后如果随着对象的插入，比例超过这个阈值，那么就增长我们的桶个数，这样可以保证最坏运行时间不超过这个负载因子对应时间，是个常数级别，所以是$O(1)$的。
但是这还会有一个情况，假设都聚集在一个桶内呢？那还会是$O(N)$的，所以这就涉及到如何构造哈希码，我们知道这个碰撞是无法避免的，只能尽可能选取好的构造方法
1.选取偶数作为<code class="language-plaintext highlighter-rouge">base</code>即模数:这样很不好，比如126作为<code class="language-plaintext highlighter-rouge">base</code>的话，在超过32个字符后的所有值都是$126^32$的倍数，化简后也就是整数上限$2^{31}-1$的倍数，会引起大量碰撞
2.选取非素数奇数，涉及到其有多个因数，所有碰撞的可能性更高
综上，我们选小素数31作为<code class="language-plaintext highlighter-rouge">base</code>。</p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/notebook/">Notebook</a>,
          <a href="/categories/cs61b-notebook/">cs61b-Notebook</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/notebook/"
            class="post-tag no-text-decoration"
          >notebook</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=Java%20Notebook%20-%20M%20o%20o%20n.&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Fcs61b-Notebook%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=Java%20Notebook%20-%20M%20o%20o%20n.&u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Fcs61b-Notebook%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Fcs61b-Notebook%2F&text=Java%20Notebook%20-%20M%20o%20o%20n." target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/cs61b-Notebook/">Java Notebook</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/%E8%AF%97%E7%BB%8F-%E5%B0%8F%E9%9B%85-%E9%87%87%E8%96%87/">采薇</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/notebook/">notebook</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E5%B0%8F%E9%9B%85/">小雅</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E8%AF%97%E7%BB%8F/">诗经</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="d-none ps-0 pe-4">
    <h2 class="panel-heading ps-3 mb-2">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  
    











            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <div class="btn btn-outline-primary disabled" aria-label="Older">
      <p>-</p>
    </div>
  

  
    <a
      href="/posts/%E8%AF%97%E7%BB%8F-%E5%B0%8F%E9%9B%85-%E9%87%87%E8%96%87/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>采薇</p>
    </a>
  
</nav>

            
              
              <!-- The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2024</time>

    
      <a href="https://twitter.com/username">Yongze Li</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.1.1"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/notebook/">notebook</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E5%B0%8F%E9%9B%85/">小雅</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E8%AF%97%E7%BB%8F/">诗经</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    
    <div id="animation">
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
    <div class="animation-circle"></div>
  </div>

    

    <!-- JavaScripts -->
    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.29.0/dist/tocbot.min.js"></script>







<script src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  







    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5">Oops! No results found.</p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

