---
title: PTAæ—…æ¸¸è§„åˆ’(JAVA)
date: 2024-11-25 09:25:00 +0800
categories: [é¢˜è§£, PTA]
tags: [ä¼˜åŒ–æ‚è°ˆ, PTA]     
description: JAVAä¸­ä¼˜åŒ–äº†è¾“å…¥é€šè¿‡çš„ä¸€é“é¢˜
---

## é¢˜ç›®å¤§æ„

æœ‰äº†ä¸€å¼ è‡ªé©¾æ—…æ¸¸è·¯çº¿å›¾ï¼Œä½ ä¼šçŸ¥é“åŸå¸‚é—´çš„é«˜é€Ÿå…¬è·¯é•¿åº¦ã€ä»¥åŠè¯¥å…¬è·¯è¦æ”¶å–çš„è¿‡è·¯è´¹ã€‚ç°åœ¨éœ€è¦ä½ å†™ä¸€ä¸ªç¨‹åºï¼Œå¸®åŠ©å‰æ¥å’¨è¯¢çš„æ¸¸å®¢æ‰¾ä¸€æ¡å‡ºå‘åœ°å’Œç›®çš„åœ°ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ã€‚å¦‚æœæœ‰è‹¥å¹²æ¡è·¯å¾„éƒ½æ˜¯æœ€çŸ­çš„ï¼Œé‚£ä¹ˆéœ€è¦è¾“å‡ºæœ€ä¾¿å®œçš„ä¸€æ¡è·¯å¾„ã€‚

### è¾“å…¥æ ¼å¼:

è¾“å…¥è¯´æ˜ï¼šè¾“å…¥æ•°æ®çš„ç¬¬ 1 è¡Œç»™å‡º 4 ä¸ªæ­£æ•´æ•° **n**ã€**m**ã€**s**ã€**d**ï¼Œå…¶ä¸­ **n**ï¼ˆ**2**â‰¤**n**â‰¤**500**ï¼‰æ˜¯åŸå¸‚çš„ä¸ªæ•°ï¼Œé¡ºä¾¿å‡è®¾åŸå¸‚çš„ç¼–å·ä¸º 0\~(**n**âˆ’**1**)ï¼›**m** æ˜¯é«˜é€Ÿå…¬è·¯çš„æ¡æ•°ï¼›**s** æ˜¯å‡ºå‘åœ°çš„åŸå¸‚ç¼–å·ï¼›**d** æ˜¯ç›®çš„åœ°çš„åŸå¸‚ç¼–å·ã€‚éšåçš„ **m** è¡Œä¸­ï¼Œæ¯è¡Œç»™å‡ºä¸€æ¡é«˜é€Ÿå…¬è·¯çš„ä¿¡æ¯ï¼Œåˆ†åˆ«æ˜¯ï¼šåŸå¸‚ 1ã€åŸå¸‚ 2ã€é«˜é€Ÿå…¬è·¯é•¿åº¦ã€æ”¶è´¹é¢ï¼Œä¸­é—´ç”¨ç©ºæ ¼åˆ†å¼€ï¼Œæ•°å­—å‡ä¸ºæ•´æ•°ä¸”ä¸è¶…è¿‡ 500ã€‚è¾“å…¥ä¿è¯è§£çš„å­˜åœ¨ã€‚

### è¾“å‡ºæ ¼å¼:

åœ¨ä¸€è¡Œé‡Œè¾“å‡ºè·¯å¾„çš„é•¿åº¦å’Œæ”¶è´¹æ€»é¢ï¼Œæ•°å­—é—´ä»¥ç©ºæ ¼åˆ†éš”ï¼Œè¾“å‡ºç»“å°¾ä¸èƒ½æœ‰å¤šä½™ç©ºæ ¼ã€‚

### è¾“å…¥æ ·ä¾‹:

```in
4 5 0 3
0 1 1 20
1 3 2 30
0 3 4 10
0 2 2 20
2 3 1 20
```

### è¾“å‡ºæ ·ä¾‹:

```out
3 40
```

## javaä»£ç è§£å†³

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.*;

import static java.lang.Math.max;
import static java.lang.Math.min;

public class Main {
    static int[][] g = new int[509][509];
    static int[][] expense = new int[509][509];
    static int[] dist = new int[509];
    static int[] cost = new int[509];
    static PriorityQueue<pair> pq = new PriorityQueue<>();
    static int n,m,s,d;
    static boolean[] vis = new boolean[509];

    public static class pair implements Comparable<pair> {
        int x, y;
        public pair(int x, int y) {
            this.x = x;
            this.y = y;
        }

        @Override
        public int compareTo(pair o) {
            return this.y - o.y;
        }
    }

    public static void dijkstra() {
        for(int i=0;i<n;i++) {
            dist[i] = Integer.MAX_VALUE;
        }
        for(int i=0;i<n;i++) {
            cost[i] = Integer.MAX_VALUE;
        }
        dist[s] = 0;
        cost[s] = 0;
        pq.add(new pair(s,dist[s]));
        while(!pq.isEmpty()) {
            pair p = pq.poll();

            if(vis[p.x]) continue;
            vis[p.x] = true;

            for(int i=0;i<n;i++) {
                if(vis[i]) continue;
                if(g[p.x][i] != -1 && dist[i] > dist[p.x] + g[p.x][i]) {
                    dist[i] = dist[p.x] + g[p.x][i];
                    cost[i] = cost[p.x] + expense[p.x][i];
                    pq.add(new pair(i,dist[i]));
                }
                if(g[p.x][i] != -1 && dist[i] == dist[p.x] + g[p.x][i]) {
                    cost[i] = min(cost[p.x] + expense[p.x][i],cost[i]);
                }
            }
        }
    }

    static class FastReader {
        BufferedReader br;
        StringTokenizer st;

        public FastReader() {
            br = new BufferedReader(new InputStreamReader(System.in));
        }

        String next() {
            while (st == null || !st.hasMoreElements()) {
                try {
                    st = new StringTokenizer(br.readLine());
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
            return st.nextToken();
        }

        int nextInt() {
            return Integer.parseInt(next());
        }
    }

    public static void main(String[] args) {
        FastReader scanner = new FastReader();
        n = scanner.nextInt();
        m = scanner.nextInt();
        s = scanner.nextInt();
        d = scanner.nextInt();
        for(int i=0;i<509;i++) {
            for(int j=0;j<509;j++) {
                g[i][j] = -1;
                expense[i][j] = -1;
            }
        }
        for(int i=0;i<m;i++) {
            int u = scanner.nextInt();
            int w = scanner.nextInt();
            int dis = scanner.nextInt();
            int e = scanner.nextInt();
            g[u][w] = dis;
            g[w][u] = dis;
            expense[u][w] = e;
            expense[w][u] = e;
        }
        dijkstra();
        System.out.print(dist[d] + " ");
        System.out.print(cost[d]);
    }
}
```

## å¤§è‡´æ€è·¯

> æœ¬é¢˜æ¶‰åŠåŒæƒå€¼æœ€çŸ­è·¯é—®é¢˜ï¼Œç”¨äº†ä¼˜å…ˆé˜Ÿåˆ—ä¼˜åŒ–ï¼Œä½†æ˜¯ç”±äºç”¨çš„æ˜¯é‚»æ¥çŸ©é˜µï¼Œæ‰€ä»¥å¦‚æœnå†å¤§äº›å¯èƒ½å°±æ— æ³•é€šè¿‡ï¼Œæœ€å¥½æ”¹æˆé‚»æ¥è¡¨ã€‚

åœ¨æ­¤é¢˜ä¸­ï¼Œæœ‰å¯èƒ½å¤šä¸ªè·¯å¾„é•¿åº¦ä¸€æ ·ï¼Œè¦é€‰æ‹©æ”¶è´¹æœ€ä½çš„ï¼Œè¿™å°±æ˜¯å¤šæƒå€¼çš„ä½“ç°ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¼šåœ¨è·¯å¾„é•¿åº¦éœ€è¦æ›´æ–°çš„æ—¶å€™ä¿®æ”¹æœ€å°èŠ±è´¹ï¼Œæ³¨æ„æ˜¯ä¿®æ”¹ä¸æ˜¯æ›´æ–°ï¼Œå› ä¸ºé‡åˆ°è·¯å¾„æ›´çŸ­çš„æƒ…å†µæ—¶ä¸è®ºå‰ä¸€ä¸ªæ”¶è´¹å¤šä½æˆ–è€…å¤šé«˜ï¼Œéƒ½æ˜¯ä¸å¯å–çš„ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹

```java
if(g[p.x][i] != -1 && dist[i] > dist[p.x] + g[p.x][i]) {
                dist[i] = dist[p.x] + g[p.x][i];
                cost[i] = cost[p.x] + expense[p.x][i];
                pq.add(new pair(i,dist[i]));
            }
            if(g[p.x][i] != -1 && dist[i] == dist[p.x] + g[p.x][i]) {
                cost[i] = min(cost[p.x] + expense[p.x][i],cost[i]);
            }
```

é‚£ä¹ˆå¦‚æœæ˜¯cppä»£ç æœ¬é¢˜å°±åˆ°æ­¤ä¸ºæ­¢äº†ï¼Œä½†æ˜¯å…³é”®åœ¨äºjavaä»£ç è¾“å…¥å¾ˆæ…¢ï¼Œä¹Ÿå› æ­¤å¡äº†æˆ‘ä¸€æ®µæ—¶é—´

## è¾“å…¥ä¼˜åŒ–

æˆ‘ä»¬åœ¨Mainç±»ä¸­å®šä¹‰å¿«é€Ÿè¾“å…¥

```java
static class FastReader {
        BufferedReader br;
        StringTokenizer st;

        public FastReader() {
            br = new BufferedReader(new InputStreamReader(System.in));
        }

        String next() {
            while (st == null || !st.hasMoreElements()) {
                try {
                    st = new StringTokenizer(br.readLine());
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
            return st.nextToken();
        }

        int nextInt() {
            return Integer.parseInt(next());
        }
    }
```

å¹¶ä¸”å°†`Scanner`æ¢æˆ`FasterReader`å³å¯

è‡³æ­¤ï¼Œæœ¬é¢˜åœ¨å®Œå…¨å›¾çš„æƒ…å†µä¸‹ä¹Ÿèƒ½æ§åˆ¶åœ¨800msä»¥å†…ï¼Œå®Œç»“æ’’èŠ±ğŸ‰ğŸ‰ğŸ‰
